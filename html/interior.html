<!DOCTYPE html>
<html lang="cat">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="stylesheet" href="../css/style_header.css">

  <!-- <link rel="stylesheet" href="../css/estilos.css"> -->
  <link rel="stylesheet" href="../css/style_casa.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

  <script src="../js/functions.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

  <link rel="icon" href="../images/logo-curt.png">
  <title>La Bertolina - Allotjament Rural</title>

  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>
  <header>

    <div class="header">
      <div id="menu-icon" class="menu-icon"><i class="fas fa-bars" onclick="mostraMenu()"></i></div>

      <a href="../index.html">Inici</a>
      <a href="./interior.html">Interior</a>
      <a href="./exterior.html">Exterior</a>
      <a href="./historia.html">Història</a>
      <a href="../index.html" id="imatge-logo"> <img src="../images/logo2023.png"> </a>
      <a href="./entorn.html">Entorn</a>
      <a href="./tarifes.html">Tarifes</a>
      <a href="./disponibilitat.html">Disponibilitat</a>
      <a href="./contacte.html">Contacte</a>
    </div>

    <!-- Añade un contenedor para las categorías y un fondo oscuro -->
    <div id="categories-container" class="categories-container">
      <a href="../index.html">Inici</a>
      <a href="./interior.html">Interior</a>
      <a href="./exterior.html">Exterior</a>
      <a href="./historia.html">Història</a>
      <a href="./entorn.html">Entorn</a>
      <a href="./tarifes.html">Tarifes</a>
      <a href="./disponibilitat.html">Disponibilitat</a>
      <a href="./contacte.html">Contacte</a>
    </div>

    <div id="overlay-menu" class="overlay-menu"></div>
  </header>

  <main>
    <!-- Video presentacio de la casa -->
    <section class="video-section">
      <div class="video-container">
        <video src="../images/interior/interior_baix.mp4" autoplay loop muted></video>
      </div>
    </section>

    <!-- Sección de Distribució de la Casa -->
    <section class="main-section">
      <div class="section-content">
        <div class="column-container">
          <div class="column">
            <p style="font-size: 23px;"><b>Capacitat de 13 persones amb un total de 193m2 </b><br> </p>
            <p>5 habitacions, 3 triples i 2 dobles.</p>
            <p style="font-size: 18px;"> <b> La casa esta equipada amb: </b></p>
            <ul>
              <li>Cuina completa</li>
              <li>4 banys amb assecador</li>
              <li>Sala d'estar amb llar de foc</li>
              <li>Menjador</li>
              <li>Rentavaixelles</li>
              <li>Rentadora</li>
              <li>Calefacció central</li>
              <li>Wi-Fi</li>
            </ul>
          </div>

          <div class="column image-column">
            <img src="../images/plano_sin_fondo.png" alt="Imagen">
          </div>
        </div>
      </div>
    </section>


    <!-- Mapa 3d Casa -->
    <section class="map-section">
      <h2>TOUR VIRTUAL</h2>
      <div class="matterport-map">
        <iframe src="https://my.matterport.com/show/?m=mNLjykomqKR" frameborder="0" allowfullscreen></iframe>
      </div>
    </section>

    <!-- Galeria dimagenes -->
    <div class="galery">
      <h1 style="text-align: center;">Galeria d'Imatges</h1>
      <div id="linea"></div>


      <!-- Miniaturas -->
      <div class="galeria-miniaturas">
        <img src="../images/DJI_0124.JPG" alt="">
        <img src="../images/DJI_0144.JPG" alt="">
        <img src="../images/DJI_0177.JPG" alt="">
        <img src="../images/DJI_0124.JPG" alt="">
        <img src="../images/DJI_0144.JPG" alt="">
        <img src="../images/DJI_0177.JPG" alt="">
        <img src="../images/DJI_0124.JPG" alt="">
        <img src="../images/DJI_0144.JPG" alt="">
        <img src="../images/DJI_0177.JPG" alt="">
        <img src="../images/DJI_0124.JPG" alt="">
        <img src="../images/DJI_0144.JPG" alt="">
        <img src="../images/DJI_0177.JPG" alt="">
        <img src="../images/DJI_0124.JPG" alt="">
        <img src="../images/DJI_0144.JPG" alt="">
        <img src="../images/DJI_0177.JPG" alt="">
      </div>

      <!-- Imagen en grande -->
      <div class="imagen-grande">
        <span class="cerrado">&times;</span>
        <div class="swiper-container swiper-container-imagen-grande">
          <div class="swiper-wrapper">
            <!-- Las imágenes se añadirán aquí dinámicamente -->
          </div>
          <div class="swiper-button-prev" id="prev"></div>
          <div class="swiper-button-next" id="next"></div>
        </div>
      </div>


      <script>
        // Crear el contenedor del Swiper para la vista en grande
        var swiperImagenGrande = new Swiper('.swiper-container-imagen-grande', {
          loop: true,
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          }
        });

        // Guardar el estado del zoom
        var zoomActivo = false;

        // Evento para mostrar la imagen en grande al hacer clic en una miniatura
        document.querySelectorAll('.galeria-miniaturas img').forEach((img, index) => {
          img.addEventListener('click', function () {
            document.querySelector('.imagen-grande').style.display = 'flex';

            // Eliminar todas las diapositivas clonadas antes de agregar nuevas
            swiperImagenGrande.removeAllSlides();

            // Agregar las imágenes a la vista en grande
            document.querySelectorAll('.galeria-miniaturas img').forEach((img, idx) => {
              const clone = img.cloneNode(true);
              const slide = document.createElement('div');
              slide.classList.add('swiper-slide', 'swiper-slide-imagen-grande');
              slide.appendChild(clone);
              swiperImagenGrande.appendSlide(slide);

              // Establecer la diapositiva inicial si coincide con la imagen clicada
              if (idx === index) {
                swiperImagenGrande.slideTo(swiperImagenGrande.slides.length - 1, 0);
              }

              // Agregar el evento de clic para hacer zoom in/out en la imagen
              clone.addEventListener('click', function () {
                if (!zoomActivo) {
                  clone.style.transformOrigin = '50% 50%'; // Establecer el punto de origen de la transformación
                  clone.style.transform = 'scale(2)';
                  zoomActivo = true;
                  swiperImagenGrande.allowSlideNext = false;
                  swiperImagenGrande.allowSlidePrev = false;
                } else {
                  clone.style.transformOrigin = '50% 50%'; // Establecer el punto de origen de la transformación
                  clone.style.transform = 'scale(1)';
                  zoomActivo = false;
                  swiperImagenGrande.allowSlideNext = true;
                  swiperImagenGrande.allowSlidePrev = true;
                }
              });

            });
          });
        });

        // Evento para cerrar la imagen en grande al hacer clic en el botón de cerrar
        document.querySelector('.cerrado').addEventListener('click', function () {
          document.querySelector('.imagen-grande').style.display = 'none';
          swiperImagenGrande.removeAllSlides(); // Eliminar todas las diapositivas clonadas al cerrar la vista en grande
        });
      </script>
    </div>



  </main>


  <footer>
    <div class="footerNav">
      <a href="../index.html">Inici</a>
      <a href="./tarifes.html">Tarifes</a>
      <a href="./disponibilitat.html">Disponibilitat</a>
      <a href="./contacte.html">Contacte</a>
    </div>

    <div class="footerTelefon">
      <p>Casa Bertolina - Busa - Navés - Lleida - 25286</p>
      <p>Mòbil: 661 66 89 60</p>
      <p>info@labertolina.com</p>
    </div>

    <div class="footerBottom">
      <p> CopyRight &copy; 2024</p>
    </div>
  </footer>

</body>

</html>